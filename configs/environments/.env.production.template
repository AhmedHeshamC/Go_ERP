# ERPGo Production Environment Configuration Template
# Copy this file to .env.production and customize with actual production values
# IMPORTANT: Replace all placeholder values with secure, production-ready values

# ===========================================
# SERVER CONFIGURATION
# ===========================================
SERVER_PORT=8080
ENVIRONMENT=production
LOG_LEVEL=info
DEBUG_MODE=false

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgres://erpgo:SECURE_PASSWORD_CHANGE_ME@postgres-primary:5432/erp?sslmode=require
DATABASE_READ_URL=postgres://erpgo:SECURE_PASSWORD_CHANGE_ME@postgres-replica:5432/erp?sslmode=require
DATABASE_SSL_MODE=require
DATABASE_SSL_CERT=/etc/ssl/certs/postgres-client.crt
DATABASE_SSL_KEY=/etc/ssl/private/postgres-client.key
DATABASE_SSL_CA=/etc/ssl/certs/postgres-ca.crt
DATABASE_SSL_HOST=postgres-primary
MAX_CONNECTIONS=100
MIN_CONNECTIONS=20
CONN_MAX_LIFETIME=3600
CONN_MAX_IDLE_TIME=1800

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://redis-master:6379
REDIS_REPLICA_URL=redis://redis-replica:6379
REDIS_PASSWORD=SECURE_REDIS_PASSWORD_CHANGE_ME
REDIS_DB=0
REDIS_POOL_SIZE=50

# ===========================================
# AUTHENTICATION & SECURITY
# ===========================================
JWT_SECRET=GENERATE_STRONG_256_BIT_SECRET_HERE
JWT_EXPIRY=15m
REFRESH_EXPIRY=168h
BCRYPT_COST=14
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15m

# ===========================================
# CORS CONFIGURATION (Production - Restrictive)
# ===========================================
PRODUCTION_CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Origin,Content-Type,Accept,Authorization,X-Requested-With,X-API-Version
CORS_MAX_AGE=86400
CORS_CREDENTIALS_ENABLED=true
CORS_ENVIRONMENT_WHITELIST=true

# ===========================================
# RATE LIMITING (Enabled in Production)
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100
RATE_LIMIT_BURST=200
RATE_LIMIT_TTL=1h

# ===========================================
# FILE STORAGE (S3 for Production)
# ===========================================
STORAGE_TYPE=s3
UPLOAD_PATH=/var/uploads
S3_BUCKET=your-production-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY=YOUR_S3_ACCESS_KEY
S3_SECRET_KEY=YOUR_S3_SECRET_KEY
S3_ENDPOINT=https://s3.amazonaws.com

# ===========================================
# EMAIL CONFIGURATION (Production Email Service)
# ===========================================
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USERNAME=your-smtp-username
SMTP_PASSWORD=your-smtp-password
SMTP_EMAIL=noreply@yourdomain.com
EMAIL_FROM=ERPGo <noreply@yourdomain.com>

# ===========================================
# MONITORING & METRICS
# ===========================================
METRICS_ENABLED=true
METRICS_PATH=/metrics
TRACING_ENABLED=true
TRACING_URL=https://your-jaeger-endpoint.com:14268/api/traces
PROMETHEUS_GATEWAY_URL=https://pushgateway.yourdomain.com

# ===========================================
# API CONFIGURATION
# ===========================================
API_VERSION=v1
API_PREFIX=/api
API_DOCS_ENABLED=false  # Disable API docs in production
API_DOCS_PATH=

# ===========================================
# CACHE CONFIGURATION
# ===========================================
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=5m
CACHE_USER_TTL=10m
CACHE_PRODUCT_TTL=15m
CACHE_INVENTORY_TTL=1m

# ===========================================
# BACKGROUND JOBS
# ===========================================
WORKER_ENABLED=true
WORKER_COUNT=10
JOB_RETRY_ATTEMPTS=5

# ===========================================
# PRODUCTION SPECIFIC
# ===========================================
# Disable hot reloading
HOT_RELOAD=false

# Disable database query logging (performance)
DB_LOG_QUERIES=false

# Disable request/response logging (performance)
LOG_REQUESTS=false
LOG_RESPONSES=false

# Disable debug middleware
DEBUG_MIDDLEWARE=false

# Disable profiling in production
ENABLE_PPROF=false

# Production SSL
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/erpgo.crt
SSL_KEY_PATH=/etc/ssl/private/erpgo.key

# Force HTTPS
SSL_REDIRECT=true
TRUSTED_PROXIES=nginx,cloudflare

# ===========================================
# THIRD-PARTY SERVICES (Production URLs)
# ===========================================
# Payment gateway (production mode)
PAYMENT_GATEWAY_URL=https://api.paymentprovider.com
PAYMENT_GATEWAY_KEY=your_production_payment_gateway_key

# SMS service (production mode)
SMS_SERVICE_URL=https://api.smsprovider.com
SMS_SERVICE_KEY=your_production_sms_key

# Analytics (production mode)
ANALYTICS_ID=your_production_analytics_id
ANALYTICS_URL=https://analytics.provider.com

# External API (production mode)
EXTERNAL_API_URL=https://api.external.com
EXTERNAL_API_KEY=your_production_api_key

# ===========================================
# FEATURE FLAGS (Production)
# ===========================================
FEATURE_NEW_DASHBOARD=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_BETA_FEATURES=false
FEATURE_EXPERIMENTAL_UI=false
FEATURE_DEBUG_ENDPOINTS=false

# ===========================================
# PERFORMANCE SETTINGS (Production - Optimized)
# ===========================================
# Higher timeouts for production stability
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# Database query timeout
DB_QUERY_TIMEOUT=30s

# Redis connection timeout
REDIS_CONN_TIMEOUT=5s

# HTTP client timeout
HTTP_CLIENT_TIMEOUT=30s

# Connection limits
MAX_UPLOAD_SIZE=10485760  # 10MB
MAX_REQUEST_SIZE=10485760  # 10MB

# ===========================================
# SECURITY SETTINGS (Production - Strict)
# ===========================================
# Do not allow weak passwords
ALLOW_WEAK_PASSWORDS=false

# Require email verification in production
SKIP_EMAIL_VERIFICATION=false

# Disable test endpoints
ENABLE_TEST_ENDPOINTS=false

# Enable HTTPS enforcement
HTTPS_ENFORCEMENT_DISABLED=false

# Session settings
SESSION_SECRET=GENERATE_STRONG_SESSION_SECRET_HERE
SESSION_TIMEOUT=8h

# Additional security headers
SECURITY_HEADERS_ENABLED=true
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block
STRICT_TRANSPORT_SECURITY=max-age=31536000; includeSubDomains

# Content Security Policy
CSP_ENABLED=true
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# ===========================================
# BACKUP & DISASTER RECOVERY
# ===========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM UTC
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=GENERATE_BACKUP_ENCRYPTION_KEY_HERE

# Backup storage
BACKUP_STORAGE_TYPE=s3
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1

# ===========================================
# LOGGING & AUDITING
# ===========================================
LOG_FORMAT=json
LOG_OUTPUT=file
LOG_FILE_PATH=/var/log/erpgo/app.log
LOG_MAX_SIZE=100MB
LOG_MAX_BACKUPS=10
LOG_MAX_AGE=30d

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_PATH=/var/log/erpgo/audit.log
AUDIT_SENSITIVE_OPERATIONS=true

# ===========================================
# ALERTING & NOTIFICATIONS
# ===========================================
ALERTING_ENABLED=true
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_key
NOTIFICATION_EMAIL=admin@yourdomain.com

# ===========================================
# MONITORING ENDPOINTS
# ===========================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
READY_CHECK_PATH=/ready
METRICS_CHECK_PATH=/metrics

# Application metrics
APP_METRICS_ENABLED=true
DB_METRICS_ENABLED=true
REDIS_METRICS_ENABLED=true
HTTP_METRICS_ENABLED=true

# ===========================================
# CLUSTERING & HIGH AVAILABILITY
# ===========================================
CLUSTER_ENABLED=true
CLUSTER_NODE_ID=auto-generate
CLUSTER_DISCOVERY_URL=https://discovery.yourdomain.com
CLUSTER_HEARTBEAT_INTERVAL=30s
CLUSTER_FAILURE_TIMEOUT=90s

# Load balancer settings
LOAD_BALANCER_ENABLED=true
LOAD_BALANCER_ALGORITHM=round_robin
LOAD_BALANCER_HEALTH_CHECK_INTERVAL=10s

# ===========================================
# DATA ENCRYPTION
# ===========================================
FIELD_ENCRYPTION_ENABLED=true
FIELD_ENCRYPTION_KEY=GENERATE_32_BYTE_ENCRYPTION_KEY_HERE
ENCRYPTED_FIELDS=email,phone,address,ssn,credit_card

# ===========================================
# COMPLIANCE & GDPR
# ===========================================
GDPR_COMPLIANCE_ENABLED=true
DATA_RETENTION_DAYS=365
ANONYMIZATION_ENABLED=true
CONSENT_MANAGEMENT_ENABLED=true

# ===========================================
# BUSINESS LOGIC
# ===========================================
# Business hours
BUSINESS_HOURS_START=09:00
BUSINESS_HOURS_END=17:00
BUSINESS_TIMEZONE=UTC

# Currency and locale
DEFAULT_CURRENCY=USD
DEFAULT_LOCALE=en_US

# Tenant settings (if multi-tenant)
MULTI_TENANT_ENABLED=false
TENANT_ISOLATION=database  # database, schema, row_level

# ===========================================
# INTEGRATION CONFIGURATION
# ===========================================
# ERP integrations
ERP_INTEGRATION_ENABLED=false
ERP_API_URL=https://erp.integration.com
ERP_API_KEY=your_erp_api_key

# CRM integrations
CRM_INTEGRATION_ENABLED=false
CRM_API_URL=https://crm.integration.com
CRM_API_KEY=your_crm_api_key

# Accounting integrations
ACCOUNTING_INTEGRATION_ENABLED=false
ACCOUNTING_API_URL=https://accounting.integration.com
ACCOUNTING_API_KEY=your_accounting_api_key